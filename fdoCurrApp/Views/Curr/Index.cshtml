
<div class="row" style="padding: 10px;">
    <div class="col-lg-3 table-responsive" style="font-size: 12px;">
        <table class="table table-striped">
            <thead>
                <tr>
                    <th colspan="5">Müfredat Listesi</th>
                </tr>
            </thead>
            <tbody class="tableContainer">
                <tr>
                    <td >
                    <div style="width:100%; height:77vh; overflow:auto;">
                        @for (var j = 1; j < 5; j++)
                        {
                                @for (var m = 1; m < 3; m++)
                                {
                                    var donem = (@m == 1 ? "Güz" : "Bahar");
                                    <table class="table table-striped table-responsive">
                                        <thead>
                                            <tr>
                                                <th colspan="5">@j. Sınıf @donem Dönemi</th>
                                            </tr>
                                        </thead>
                                        <tbody>
                                            <tr>
                                                <td>
                                                    <table class="table table-striped table-responsive">
                                                        <thead>
                                                            <tr>
                                                                <th>Ders Kodu</th>
                                                                <th>Ders Adı</th>
                                                                <th>İEU Kredisi</th>
                                                                <th>AKTS Kredisi</th>
                                                            </tr>
                                                        </thead>
                                                        <tbody id="ders_@j@m">
                                                        </tbody>
                                                    </table>
                                                </td>
                                            </tr>
                                        </tbody>
                                    </table>
                                }

                            }
                        </div>
                    </td>
                </tr>

            </tbody>
        </table>

    </div>

    <div class="col-lg-3 table-responsive" style="font-size:12px;">
        <table id="example" class="display" style="width:100%">
            <thead>

                <tr>
                    <th style="width:46px">Ekle</th>
                    <th>Fakülte</th>
                    <th>Bölüm</th>
                    <th style="width: 80px;">Ders Kodu</th>
                    <th>Ders Adı</th>
                    <th style="width: 74px;">İEU Kredisi</th>
                </tr>

            </thead>
            <tbody>
                <tr>
                    <td>Tiger Nixon</td>
                    <td>System Architect</td>
                    <td>Edinburgh</td>
                    <td>61</td>
                    <td>2011-04-25</td>
                    <td>$320,800</td>
                </tr>
                <tr>
                    <td>Garrett Winters</td>
                    <td>Accountant</td>
                    <td>Tokyo</td>
                    <td>63</td>
                    <td>2011-07-25</td>
                    <td>$170,750</td>
                </tr>
                <tr>
                    <td>Ashton Cox</td>
                    <td>Junior Technical Author</td>
                    <td>San Francisco</td>
                    <td>66</td>
                    <td>2009-01-12</td>
                    <td>$86,000</td>
                </tr>
                <tr>
                    <td>Cedric Kelly</td>
                    <td>Senior Javascript Developer</td>
                    <td>Edinburgh</td>
                    <td>22</td>
                    <td>2012-03-29</td>
                    <td>$433,060</td>
                </tr>
                <tr>
                    <td>Airi Satou</td>
                    <td>Accountant</td>
                    <td>Tokyo</td>
                    <td>33</td>
                    <td>2008-11-28</td>
                    <td>$162,700</td>
                </tr>
                <tr>
                    <td>Brielle Williamson</td>
                    <td>Integration Specialist</td>
                    <td>New York</td>
                    <td>61</td>
                    <td>2012-12-02</td>
                    <td>$372,000</td>
                </tr>
                <tr>
                    <td>Herrod Chandler</td>
                    <td>Sales Assistant</td>
                    <td>San Francisco</td>
                    <td>59</td>
                    <td>2012-08-06</td>
                    <td>$137,500</td>
                </tr>
                <tr>
                    <td>Rhona Davidson</td>
                    <td>Integration Specialist</td>
                    <td>Tokyo</td>
                    <td>55</td>
                    <td>2010-10-14</td>
                    <td>$327,900</td>
                </tr>
                <tr>
                    <td>Colleen Hurst</td>
                    <td>Javascript Developer</td>
                    <td>San Francisco</td>
                    <td>39</td>
                    <td>2009-09-15</td>
                    <td>$205,500</td>
                </tr>
                <tr>
                    <td>Sonya Frost</td>
                    <td>Software Engineer</td>
                    <td>Edinburgh</td>
                    <td>23</td>
                    <td>2008-12-13</td>
                    <td>$103,600</td>
                </tr>
                <tr>
                    <td>Jena Gaines</td>
                    <td>Office Manager</td>
                    <td>London</td>
                    <td>30</td>
                    <td>2008-12-19</td>
                    <td>$90,560</td>
                </tr>
                <tr>
                    <td>Quinn Flynn</td>
                    <td>Support Lead</td>
                    <td>Edinburgh</td>
                    <td>22</td>
                    <td>2013-03-03</td>
                    <td>$342,000</td>
                </tr>
                <tr>
                    <td>Charde Marshall</td>
                    <td>Regional Director</td>
                    <td>San Francisco</td>
                    <td>36</td>
                    <td>2008-10-16</td>
                    <td>$470,600</td>
                </tr>
                <tr>
                    <td>Haley Kennedy</td>
                    <td>Senior Marketing Designer</td>
                    <td>London</td>
                    <td>43</td>
                    <td>2012-12-18</td>
                    <td>$313,500</td>
                </tr>
                <tr>
                    <td>Tatyana Fitzpatrick</td>
                    <td>Regional Director</td>
                    <td>London</td>
                    <td>19</td>
                    <td>2010-03-17</td>
                    <td>$385,750</td>
                </tr>
                <tr>
                    <td>Michael Silva</td>
                    <td>Marketing Designer</td>
                    <td>London</td>
                    <td>66</td>
                    <td>2012-11-27</td>
                    <td>$198,500</td>
                </tr>
                <tr>
                    <td>Paul Byrd</td>
                    <td>Chief Financial Officer (CFO)</td>
                    <td>New York</td>
                    <td>64</td>
                    <td>2010-06-09</td>
                    <td>$725,000</td>
                </tr>
                <tr>
                    <td>Gloria Little</td>
                    <td>Systems Administrator</td>
                    <td>New York</td>
                    <td>59</td>
                    <td>2009-04-10</td>
                    <td>$237,500</td>
                </tr>
                <tr>
                    <td>Bradley Greer</td>
                    <td>Software Engineer</td>
                    <td>London</td>
                    <td>41</td>
                    <td>2012-10-13</td>
                    <td>$132,000</td>
                </tr>
                <tr>
                    <td>Dai Rios</td>
                    <td>Personnel Lead</td>
                    <td>Edinburgh</td>
                    <td>35</td>
                    <td>2012-09-26</td>
                    <td>$217,500</td>
                </tr>
                <tr>
                    <td>Jenette Caldwell</td>
                    <td>Development Lead</td>
                    <td>New York</td>
                    <td>30</td>
                    <td>2011-09-03</td>
                    <td>$345,000</td>
                </tr>
                <tr>
                    <td>Yuri Berry</td>
                    <td>Chief Marketing Officer (CMO)</td>
                    <td>New York</td>
                    <td>40</td>
                    <td>2009-06-25</td>
                    <td>$675,000</td>
                </tr>
                <tr>
                    <td>Caesar Vance</td>
                    <td>Pre-Sales Support</td>
                    <td>New York</td>
                    <td>21</td>
                    <td>2011-12-12</td>
                    <td>$106,450</td>
                </tr>
                <tr>
                    <td>Doris Wilder</td>
                    <td>Sales Assistant</td>
                    <td>Sydney</td>
                    <td>23</td>
                    <td>2010-09-20</td>
                    <td>$85,600</td>
                </tr>
                <tr>
                    <td>Angelica Ramos</td>
                    <td>Chief Executive Officer (CEO)</td>
                    <td>London</td>
                    <td>47</td>
                    <td>2009-10-09</td>
                    <td>$1,200,000</td>
                </tr>
                <tr>
                    <td>Gavin Joyce</td>
                    <td>Developer</td>
                    <td>Edinburgh</td>
                    <td>42</td>
                    <td>2010-12-22</td>
                    <td>$92,575</td>
                </tr>
                <tr>
                    <td>Jennifer Chang</td>
                    <td>Regional Director</td>
                    <td>Singapore</td>
                    <td>28</td>
                    <td>2010-11-14</td>
                    <td>$357,650</td>
                </tr>
                <tr>
                    <td>Brenden Wagner</td>
                    <td>Software Engineer</td>
                    <td>San Francisco</td>
                    <td>28</td>
                    <td>2011-06-07</td>
                    <td>$206,850</td>
                </tr>
                <tr>
                    <td>Fiona Green</td>
                    <td>Chief Operating Officer (COO)</td>
                    <td>San Francisco</td>
                    <td>48</td>
                    <td>2010-03-11</td>
                    <td>$850,000</td>
                </tr>
                <tr>
                    <td>Shou Itou</td>
                    <td>Regional Marketing</td>
                    <td>Tokyo</td>
                    <td>20</td>
                    <td>2011-08-14</td>
                    <td>$163,000</td>
                </tr>
                <tr>
                    <td>Michelle House</td>
                    <td>Integration Specialist</td>
                    <td>Sydney</td>
                    <td>37</td>
                    <td>2011-06-02</td>
                    <td>$95,400</td>
                </tr>
                <tr>
                    <td>Suki Burks</td>
                    <td>Developer</td>
                    <td>London</td>
                    <td>53</td>
                    <td>2009-10-22</td>
                    <td>$114,500</td>
                </tr>
                <tr>
                    <td>Prescott Bartlett</td>
                    <td>Technical Author</td>
                    <td>London</td>
                    <td>27</td>
                    <td>2011-05-07</td>
                    <td>$145,000</td>
                </tr>
                <tr>
                    <td>Gavin Cortez</td>
                    <td>Team Leader</td>
                    <td>San Francisco</td>
                    <td>22</td>
                    <td>2008-10-26</td>
                    <td>$235,500</td>
                </tr>
                <tr>
                    <td>Martena Mccray</td>
                    <td>Post-Sales support</td>
                    <td>Edinburgh</td>
                    <td>46</td>
                    <td>2011-03-09</td>
                    <td>$324,050</td>
                </tr>
                <tr>
                    <td>Unity Butler</td>
                    <td>Marketing Designer</td>
                    <td>San Francisco</td>
                    <td>47</td>
                    <td>2009-12-09</td>
                    <td>$85,675</td>
                </tr>
                <tr>
                    <td>Howard Hatfield</td>
                    <td>Office Manager</td>
                    <td>San Francisco</td>
                    <td>51</td>
                    <td>2008-12-16</td>
                    <td>$164,500</td>
                </tr>
                <tr>
                    <td>Hope Fuentes</td>
                    <td>Secretary</td>
                    <td>San Francisco</td>
                    <td>41</td>
                    <td>2010-02-12</td>
                    <td>$109,850</td>
                </tr>
                <tr>
                    <td>Vivian Harrell</td>
                    <td>Financial Controller</td>
                    <td>San Francisco</td>
                    <td>62</td>
                    <td>2009-02-14</td>
                    <td>$452,500</td>
                </tr>
                <tr>
                    <td>Timothy Mooney</td>
                    <td>Office Manager</td>
                    <td>London</td>
                    <td>37</td>
                    <td>2008-12-11</td>
                    <td>$136,200</td>
                </tr>
                <tr>
                    <td>Jackson Bradshaw</td>
                    <td>Director</td>
                    <td>New York</td>
                    <td>65</td>
                    <td>2008-09-26</td>
                    <td>$645,750</td>
                </tr>
                <tr>
                    <td>Olivia Liang</td>
                    <td>Support Engineer</td>
                    <td>Singapore</td>
                    <td>64</td>
                    <td>2011-02-03</td>
                    <td>$234,500</td>
                </tr>
                <tr>
                    <td>Bruno Nash</td>
                    <td>Software Engineer</td>
                    <td>London</td>
                    <td>38</td>
                    <td>2011-05-03</td>
                    <td>$163,500</td>
                </tr>
                <tr>
                    <td>Sakura Yamamoto</td>
                    <td>Support Engineer</td>
                    <td>Tokyo</td>
                    <td>37</td>
                    <td>2009-08-19</td>
                    <td>$139,575</td>
                </tr>
                <tr>
                    <td>Thor Walton</td>
                    <td>Developer</td>
                    <td>New York</td>
                    <td>61</td>
                    <td>2013-08-11</td>
                    <td>$98,540</td>
                </tr>
                <tr>
                    <td>Finn Camacho</td>
                    <td>Support Engineer</td>
                    <td>San Francisco</td>
                    <td>47</td>
                    <td>2009-07-07</td>
                    <td>$87,500</td>
                </tr>
                <tr>
                    <td>Serge Baldwin</td>
                    <td>Data Coordinator</td>
                    <td>Singapore</td>
                    <td>64</td>
                    <td>2012-04-09</td>
                    <td>$138,575</td>
                </tr>
                <tr>
                    <td>Zenaida Frank</td>
                    <td>Software Engineer</td>
                    <td>New York</td>
                    <td>63</td>
                    <td>2010-01-04</td>
                    <td>$125,250</td>
                </tr>
                <tr>
                    <td>Zorita Serrano</td>
                    <td>Software Engineer</td>
                    <td>San Francisco</td>
                    <td>56</td>
                    <td>2012-06-01</td>
                    <td>$115,000</td>
                </tr>
                <tr>
                    <td>Jennifer Acosta</td>
                    <td>Junior Javascript Developer</td>
                    <td>Edinburgh</td>
                    <td>43</td>
                    <td>2013-02-01</td>
                    <td>$75,650</td>
                </tr>
                <tr>
                    <td>Cara Stevens</td>
                    <td>Sales Assistant</td>
                    <td>New York</td>
                    <td>46</td>
                    <td>2011-12-06</td>
                    <td>$145,600</td>
                </tr>
                <tr>
                    <td>Hermione Butler</td>
                    <td>Regional Director</td>
                    <td>London</td>
                    <td>47</td>
                    <td>2011-03-21</td>
                    <td>$356,250</td>
                </tr>
                <tr>
                    <td>Lael Greer</td>
                    <td>Systems Administrator</td>
                    <td>London</td>
                    <td>21</td>
                    <td>2009-02-27</td>
                    <td>$103,500</td>
                </tr>
                <tr>
                    <td>Jonas Alexander</td>
                    <td>Developer</td>
                    <td>San Francisco</td>
                    <td>30</td>
                    <td>2010-07-14</td>
                    <td>$86,500</td>
                </tr>
                <tr>
                    <td>Shad Decker</td>
                    <td>Regional Director</td>
                    <td>Edinburgh</td>
                    <td>51</td>
                    <td>2008-11-13</td>
                    <td>$183,000</td>
                </tr>
                <tr>
                    <td>Michael Bruce</td>
                    <td>Javascript Developer</td>
                    <td>Singapore</td>
                    <td>29</td>
                    <td>2011-06-27</td>
                    <td>$183,000</td>
                </tr>
                <tr>
                    <td>Donna Snider</td>
                    <td>Customer Support</td>
                    <td>New York</td>
                    <td>27</td>
                    <td>2011-01-25</td>
                    <td>$112,000</td>
                </tr>
            </tbody>
            <tfoot>
                <tr>
                    <th>Ekle</th>
                    <th>Fakülte</th>
                    <th>Bölüm</th>
                    <th>Ders Kodu</th>
                    <th>Ders Adı</th>
                    <th>İEU Kredisi</th>
                </tr>
            </tfoot>
        </table>

    </div>


    <div class="col-lg-3 table-responsive" style="font-size: 12px;" id="openELEC">
        <table class="table table-striped">
            <thead>
                <tr>
                    <th colspan="5" id="selectCurrCourse">Seçmeli Ders Listesi</th>
                </tr>
            </thead>
            <tbody class="tableContainer">
                <tr>
                    <td >
                        <div style="width:100%; height:77vh; overflow:auto;">
                        <table class="table table-striped table-responsive" >
                            <thead>
                                <tr>
                                        <th style="width:46px">Ekle</th>
                                        <th>Fakülte</th>
                                        <th>Bölüm</th>
                                        <th style="width: 80px;">Ders Kodu</th>
                                        <th>Ders Adı</th>
                                        <th style="width: 74px;">İEU Kredisi</th>
                                        <th style="width: 76px;">AKTS Kredisi</th>
                                </tr>
                                    <tr>
                                        <th style="width:46px">  </th>
                                        <th><input id="fac_ara" onkeyup="search();" style="box-shadow: 0px 0px 2px 0px #c7c7c7;width:100%" placeholder="Fakülte Ara" /></th>
                                        <th><input id="dep_ara" onkeyup="search();" style="box-shadow: 0px 0px 2px 0px #c7c7c7;width:100%" placeholder="Bölüm Ara" /></th>
                                        <th style="width: 80px;"><input id="ucode_ara" onkeyup="search();" style="box-shadow: 0px 0px 2px 0px #c7c7c7;width:100%" placeholder="Ders Kodu Ara" /></th>
                                        <th><input id="uname_ara" onkeyup="search();" style="box-shadow: 0px 0px 2px 0px #c7c7c7;width:100%" placeholder="Ders Adı Ara" /></th>
                                        <th style="width: 74px;"><input id="ieucre_ara" onkeyup="search();" style="box-shadow: 0px 0px 2px 0px #c7c7c7;width:100%" placeholder="Ör:<=3" /></th>
                                        <th style="width: 76px;"><input id="acts_ara" onkeyup="search();" style="box-shadow: 0px 0px 2px 0px #c7c7c7;width:100%" placeholder="Ör:>4" /></th>
                                    </tr>
                            </thead>
                            <tbody id="elec_list">
                              
                            </tbody>
                        </table>
                        </div>
                    </td>
                </tr>

            </tbody>
        </table>
    </div>



    <div class="col-lg-3 table-responsive" style="font-size: 12px;" id="alinanElecListesi">
        <table class="table table-striped">
            <thead>
                <tr>
                    <th colspan="5" id="selectCourse">Müfredata Seçilen Ders Listesi</th>
                </tr>
            </thead>
            <tbody>
                <tr>
                    <td>
                        <div style="width:100%; height:77vh; overflow:auto;">
                            <table class="table table-striped table-responsive">
                                <thead>
                                    <tr>
                                        <th>Çıkar</th>
                                        <th>Fakülte</th>
                                        <th>Bölüm</th>
                                        <th>Ders Kodu</th>
                                        <th>Ders Adı</th>
                                        <th>İEU Kredisi</th>
                                        <th>AKTS Kredisi</th>
                                    </tr>
                                </thead>
                                <tbody id="secilen_elec_list">
                                </tbody>
                            </table>
                        </div>
                    </td>
                </tr>

            </tbody>
        </table>
    </div>


</div>




<style>

    .mr-4 {
        margin-right: 4rem;
    }

    .ml-2 {
        margin-left: 1rem;
    }

    .rt {
        position: fixed;
        right: 1%;
    }

    .pointer {
        cursor: pointer;
        color: rgb(33,37,41);
    }

    .tableContainer {
        border-collapse: collapse;
        border-spacing: 0;
        width: 100%;
        border: 1px solid #ddd;
    }

    .addDropButton
    {
        max-width: 25px;
        max-height: 25px;
        line-height: 1px;
        margin: 0px;
        padding: 3px;
    }

    .disabletr{
        color: #9b9999 !important;
    }

    .enabletr {
        color: #000000 !important;
        font-weight: bold !important;
        background: #ffdab4 !important;
        cursor: pointer;
    }

    .enabletr:hover {
            background: #ffb569 !important;
    }

    .activeEnabletr {
        color: #000000 !important;
        font-weight: bold !important;
        background: #f6a756 !important;
        cursor: pointer;
    }
</style>


            
<script src="~/js/jquery/jquery.min.js"></script>

<script>
    $(document).ready(function () {
        $('#example').DataTable(
        
        
        );
    });
</script>
           

<script type="text/javascript">
     //$('#openELEC').hide();
                function closer(k) {
                $("#" + secilen.currClass + "_" + secilen.semester + '_' + secilen.uniCode.replace(" ", "_")).removeClass("activeEnabletr");
                $("#" + secilen.currClass + "_" + secilen.semester + '_' + secilen.uniCode.replace(" ", "_")).addClass("enabletr");
                    elecSelecList(k);
          
                    secilen=k;
        $("#" + secilen.currClass + "_" + secilen.semester + '_' + secilen.uniCode.replace(" ", "_")).removeClass("enabletr");
        $("#" + secilen.currClass + "_" + secilen.semester + '_' + secilen.uniCode.replace(" ", "_")).addClass("activeEnabletr");
       $('#openELEC').show();
                }

    var accesToken = localStorage.getItem("accesToken");
    var lec_id = localStorage.getItem("lec_id");
    var lec_name = localStorage.getItem("lec_name");
    var lec_surname = localStorage.getItem("lec_surname");


    var selectCourses=[];
    var secilen = {
        uniCode: "",
        courseName: "",
        credit: "",
        ects: "",
        semester: "",
        currClass: "",
        department: "",
        faculty: "",
        fdo: "",
        id: "",
        currCode: "",
    }


    if (accesToken == undefined || accesToken == "") {
        window.location.href = "/Login/Index";
    }

   
    $.ajax({
        url: "/Curr/List?id="+lec_id,
        type: "get",
        dataType: "JSON",
        headers: {
            'Content-Type': 'multipart/form-data',
            authorization: accesToken
        },
        success: function (data) {
            if (data.status == 200) {
               console.log(data);

               say=0;
       
                data.response.forEach(k => {
                   // if (k.uniCode.search("ELEC") != -1 && say==0) {
                   //     secilen = k
                   //     say++;
                   //}
                    var ders = "<tr id='" + k.currClass + '_' + k.semester + '_' + k.uniCode.replace(" ", "_") + "' class='" + (k.uniCode.search("ELEC") != -1 ? "enabletr" : "disabletr ") + "' " + ((k.uniCode.search("ELEC")) != -1 ? " onclick='closer(" + JSON.stringify(k) + ")'" :"" ) + "  > "
                        + "<td>" + k.uniCode+ "</td>"
                            + "<td>" + k.courseName + "</td>"
                            + " <td>" + k.credit + "</td>"
                            + "<td>" + k.ects + "</td>"
                            + "</tr>";
                    $("#ders_" + k.currClass + "" + k.semester).append(ders);

               })
                //$("#" + secilen.currClass + "_" + secilen.semester + '_' + secilen.uniCode.replace(" ", "_")).removeClass("enabletr");
                //$("#" + secilen.currClass + "_" + secilen.semester + '_' + secilen.uniCode.replace(" ", "_")).addClass("activeEnabletr");
                //elecSelecList(secilen);

            }
            else {
                alert(data.message);
                window.location.href = "/Login/Index";
            }
        },
        error: function (xhr, desc, err) {

              SnackBar({
                        message: err,
                        status: "danger",
                        position: 'top-left',
                        icon: "exclamation"

                    });
        }
    });


    function elecSelecList(secilen) {
        fData=new FormData();
        fData.append("uniCode", secilen.uniCode);
        fData.append("courseName", secilen.courseName);
        fData.append("credit", secilen.credit);
        fData.append("ects", secilen.ects);
        fData.append("semester", secilen.semester);
        fData.append("curr_class", secilen.currClass);
        fData.append("department", secilen.department);
        fData.append("faculty", secilen.faculty);
        fData.append("fdo", secilen.fdo);
        fData.append("id", secilen.id);
        fData.append("currCode", secilen.currCode);
        fData.append("lec_id", lec_id);
        fData.append("deptLangName", secilen.deptLangName);
        fData.append("deptLangCode", secilen.deptLangCode);

        $.ajax({
            url: "/Curr/Eleclist",
            type: "post",
            data: fData,
               processData: false,
                contentType: false,
            //headers: {
            //    'Content-Type': 'multipart/form-data',
            //    authorization: accesToken
            //},
            success: function (data) {
                if (data.status == 200) {
                    $("#selectCurrCourse").html(secilen.currClass + '. Sınıf ' + (secilen.semester == 1 ? 'Güz' : 'Bahar') + " " + secilen.uniCode + ' (Kredi:' + secilen.credit + ' - AKTS:' + secilen.ects + ') dersi için seçilecek ders listesi')
                    $("#selectCourse").html(secilen.currClass + '. Sınıf ' + (secilen.semester == 1 ? 'Güz' : 'Bahar') + " " + secilen.uniCode + ' (Kredi:' + secilen.credit + ' - AKTS:' + secilen.ects + ') dersi için seçilen ders listesi')
                    
                    selectCourseList(data.response.course);
                    selectCourses = data.response.course;
                    $("#secilen_elec_list").html("");
                    data.response.currElecCourses.forEach(m => {

                        var ders = "<tr>"
                            + "<td><button class='btn btn-danger btn-sm rounded-circle addDropButton' onclick='courseDrop(" + JSON.stringify({ selectCourse: m.currElecCourses, selectCurr: secilen }) + ")'><i class='fa fa-minus' /></button></td>"
                            + "<td>" + (m.course.faculty) + "</td>"
                            + "<td>" + (m.course.department) + "</td>"
                            + "<td>" + (m.course.uniCode) + "</td>"
                            + "<td>" + (m.course.courseName) + "</td>"
                            + "<td>" + (m.course.credit) + "</td>"
                            + "<td>" + (m.course.ects) + "</td>"
                            + "</tr>";
                        $("#secilen_elec_list").append(ders);
                    })

                }
                else {
                    SnackBar({
                        message: data.message,
                        status: "danger",
                        position: 'top-left',
                        icon: "exclamation"

                    });
                    window.location.href = "/Login/Index";
                }
            },
            error: function (xhr, desc, err) {
                 SnackBar({
                        message: err,
                        status: "danger",
                        position: 'top-left',
                        icon: "exclamation"

                    });
            }
        });
        }


        function selectCourseList(data)
        {
            $("#elec_list").html("");
            data.forEach(m => {
            var ders = "<tr>"
                + "<td style='width: 46px'><button class='btn btn-success btn-sm rounded-circle addDropButton' onclick='courseAdd(" + JSON.stringify({ selectCourse: m, selectCurr: secilen }) + ")'><i class='fa fa-plus' /></button></td>"
                + "<td>" + (m.faculty) + "</td>"
                + "<td>" + (m.department) + "</td>"
                + "<td style='width: 80px'>" + (m.uniCode) + "</td>"
                + "<td>" + (m.courseName) + "</td>"
                + "<td style='width: 74px'>" + (m.credit) + "</td>"
                + "<td style='width: 76px'>" + (m.ects) + "</td>"
                + "</tr>";
            $("#elec_list").append(ders);


           });
        }
    function courseAdd(sc) {
        fData = new FormData();
        fData.append("uniCode", sc.selectCurr.uniCode);
        fData.append("currCode", sc.selectCurr.currCode);
        fData.append("courseId", sc.selectCourse.courseId);
        fData.append("lec_id", lec_id);

        $.ajax({
            url: "/Curr/AddElec",
            type: "post",
            data: fData,
            processData: false,
            contentType: false,
            //headers: {
            //    'Content-Type': 'multipart/form-data',
            //    authorization: accesToken
            //},
            success: function (data) {
                if (data.status == 200) {
                    SnackBar({
                        message: data.response,
                        status: "success",
                        position: "top-left",
                        icon:"plus"

                    });


                    elecSelecList(sc.selectCurr)

                }
                else {
                    SnackBar({
                        message: data.message,
                        status: "danger",
                        position: 'top-left',
                        icon: "exclamation"

                    });
                    window.location.href = "/Login/Index";
                }
            },
            error: function (xhr, desc, err) {

            }
        });
    }


  

    function courseDrop(sc) {
        fData = new FormData();
        fData.append("id", sc.selectCourse.id);

        $.ajax({
            url: "/Curr/DeleteElec",
            type: "post",
            data: fData,
            processData: false,
            contentType: false,
            //headers: {
            //    'Content-Type': 'multipart/form-data',
            //    authorization: accesToken
            //},
            success: function (data) {
                if (data.status == 200) {
                    console.log(data.response);
                    SnackBar({
                        message: data.response,
                        status: "success",
                        position: "top-left",
                        icon: "-"
                         });

                    elecSelecList(sc.selectCurr)

                }
                else {
                    SnackBar({
                        message: data.message,
                        status: "danger",
                        position: 'top-left',
                        icon: "exclamation"

                    });
                    window.location.href = "/Login/Index";
                }
            },
            error: function (xhr, desc, err) {

            }
        });
    }


    function search()
    {
        var fak=$("#fac_ara").val();
        var dep = $("#dep_ara").val();
        var ucode = $("#ucode_ara").val();
        var uname = $("#uname_ara").val();
        var credit = $("#ieucre_ara").val();
        var ects = $("#acts_ara").val();

       
     

        var find = selectCourses.filter(x => {
            var sonuc=true;
            if (fak != null && fak != "" && (x.faculty.toUpperCase()).search(fak.toUpperCase()) == -1) {
                sonuc=false;
            }

            if (dep != null && dep != "" && (x.department.toUpperCase()).search(dep.toUpperCase()) == -1) {
                sonuc = false;
            }

            if (ucode != null && ucode != "" && (x.uniCode.toUpperCase()).search(ucode.toUpperCase()) == -1) {
                 sonuc = false;
            }
            if (uname != null && uname != "" && (x.courseName.toUpperCase()).search(uname.toUpperCase()) == -1) {
               
                sonuc = false;
            }
            if (credit != null && credit != "") {
                if (credit.search('<=')!=-1) {
                    var parcala = credit.split("<=");
                    if (+x.credit > +parcala[1]) {
                        sonuc = false;
                    }
                }
                else if (credit.search('>=') != -1) {
                    var parcala = credit.split(">=");
                    if (+x.credit < +parcala[1]) {
                        sonuc = false;
                    }
                } 
                else if (credit.search('<') != -1) {
                    var parcala = credit.split("<");
                    if (+x.credit >= +parcala[1]) {
                        sonuc = false;
                    }
                }
                else if (credit.search('>') != -1) {
                    var parcala = credit.split(">");
                    if (+x.credit <= +parcala[1]) {
                        sonuc = false;
                    }
                }
                else if (credit.search('=') != -1) {
                    var parcala = credit.split("=");
                    if (+x.credit !== +parcala[1]) {
                        sonuc = false;
                    }
                }
                else {
                    if (+x.credit !== +credit) {
                        sonuc = false;
                    }
                }

            }
            if (ects != null && ects != "") {
                if (ects.search('<=') != -1) {
                    var parcala = ects.split("<=");
                    if (+x.ects > +parcala[1]) {
                        sonuc = false;
                    }
                }
                else if (ects.search('>=') != -1) {
                    var parcala = ects.split(">=");
                    if (+x.ects < +parcala[1]) {
                        sonuc = false;
                    }
                }
                else if (ects.search('<') != -1) {
                    var parcala = ects.split("<");
                    if (+x.ects >= +parcala[1]) {
                        sonuc = false;
                    }
                }
                else if (ects.search('>') != -1) {
                    var parcala = ects.split(">");
                    if (+x.ects <= +parcala[1]) {
                        sonuc = false;
                    }
                }
                else if (ects.search('=') != -1) {
                            var parcala = ects.split("=");
                            if (+x.ects !== +parcala[1]) {
                                sonuc = false;
                            }
                        }
                else{
                    if (+x.ects !== +ects) {
                        sonuc = false;
                    }
                }
            }

    return sonuc;
        });


    selectCourseList(find);

    }


</script>
